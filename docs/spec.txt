Špecifikácia remoteplayeru, verzia 0.2 (koncept)

{server}
Umožnuje klientom spúštať média s knižnice medií.

player: jednoduchý blokujúci playbin, ktorý bude prehrávať zo zásobníka

library: všetky fajly s adresára

interface: odošle klientovy zoznam medií, umožní klientovy prehrať medium z
knižnice 

interface bude implementovaný pomocou ZMQ ako clone pattern client/server a
bude poskytovať nasledujúce funkcie:

	* list_media, ktorá vráti zoznam medií
	* play_media, ktorá prehrá medium zo zoznamu medií
	* stop, zastavenie prehrávania
	* play_progress, update priebehu prehrávania (každých 10s)
	* identify, vráti informácie o serveru
	* playlist_content, update obsahu playlistu
	* ping, posiela klientom kazdu 1s

Správu play_progress môže GUI odchitiť a zobraziť informácie o prehrávanom
obsahu.

configuration: umožnuje konfigurovať voľby ako port a media home

{{version}}

Build bude označený verziou a dostupný bude aj commit number, server bude tiež
zobrazovať aktuálnu prehrávaciu frontu.


{klient}
Pripojí sa k serveru a požiada o zoznam medií, zobrazí ich a umoží
užívateľovy výber pomocou GUI. GUI bude obsahovať list-box a regex
search entry, z listboxu bude možné vybrať skladbu a pomocou tlačítka
požiadať o jej prehratie. GUI bude tiež obsahovať tlačítko pre
zastavenie prehrávania skladby. Skladby budú v list-boxe zobrazené ako
strom.

Ďalej klient zobrazí aktuálne prehrávanú skladbu a jej priebeh (časovú
os s označenou pozíciou prehrávania).

Zo serveru získa obsah prehrávacej fronty a jednotlivé skladby označí
poradovým číslom (1, 2, ..., N) v zozname skladieb (list-boxe).


{interface API}

list_media [ask]:

	{"cmd":"list_media"}

Umožnuje klientovy získať zoznam medií, odpoveď klientovy vypadá takto

	{"cmd":"media_library", "content":[
		"path/to/file1",
		"path/to/file2",
		"path/to/file3"
	]}

TODO: premenuj content na items

play_media [notify]:

Príkaz umožnuje clientovy prehrať obsah

	{"cmd":"play_media", "content":"media-identifier"}

kde media-identifier je identifikátor obsahu získaný z odpovedi na príkaz
media_library. V prípade notify soketu sa neočakáva žiadna odpoveď zo strany
serveru.


stop [notify]:

Príkaz umožnuje klientovy zastaviť prehrávanie, príkaz je definovaný
ako

	{"cmd":"stop"}


play_progress [news]:

Správu posiela server v pravidelných intervaloch (10s) počas prehrávania
skladby.

	{
		"cmd":"play_progress",   // string
		"media":"path/to/file",  // string
		"position":P,            // long
		"duration":D             // long
	}

kde P je aktuálna pozícia v sekundách a D je dĺžka skladby v sekundách.


identify [ask]:

Správa/dotaz identify umožnuje klientovi získať informácie o serveru ako napr.
verziu

	{'cmd':'identify'}

server na dotaz odpovie takto

	{'cmd':'server_desc', 'version':'0.2.0', 'build':'417a36c'}


playlist_content [news]:

Správou informuje server klientou o zmene obsahu playlistu. Správa/príkaz je
definovaná takto:

	{
		'cmd':'playlist_content',
		'id':N,
		'items':[item1, item2, ...]
	}

kde N identyfikátor playlistu je celé kladné číslo a items obsahuje pole
reťazcou, kde jednotlivý reťazec popisuje položku pleylistu.


ping [news]:

remoteplayer posiela príkaz každú 1s v tvare

	{'ping':N}

kde N je čítač.


V prípade neznámeho dotazu odpovie server správou

	{"cmd":"error", "what":"unknown <CMD> command"}
